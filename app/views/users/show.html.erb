<h2>MY PAGE</h2>
<%= @user.name %>
<%= image_tag @user.image_url, size: "250x200" if @user.image? %>
<%= @user.profile %>
<%= render "relationships/follow_button", user: @user %>

<% if current_user.id == @user.id %>
  <%= link_to "設定", edit_user_registration_path %>
<% end %>

<div class="tab_wrap">
	<input id="tab1" type="radio" name="tab_btn" checked>
  <input id="tab2" type="radio" name="tab_btn">
  <input id="tab3" type="radio" name="tab_btn">
	

	<div class="tab_area">
		<label class="tab1_label" for="tab1">投稿</label>
    <label class="tab2_label" for="tab2">いいね</label>
    <label class="tab3_label" for="tab3">ルート</label>
  </div>
  
	<div class="panel_area">
		<div id="panel1" class="tab_panel">
      <p><% @user.spots.each do |t| %>
        <div class="spot">
          <a href="/spots/<%= t.id %>"><%= image_tag t.image_url, size: "250x200" if t.image? %>
          <%= t.about %>
          </a>
          <%= t.created_at %> 
        </div>  
      <% end %></p>
    </div>
    
		<div id="panel2" class="tab_panel">
      <div class="contents_likes">
       <div class="spot">
         <% @likes.each do |like| %>
           <a href="/spots/<%= like.spot_id %>"><%= image_tag like.spot.image_url, size: "250x200" if like.spot.image? %>
           </a>
         <% end %>
        </div> 
     </div>
    </div>
    
    <div id="panel3" class="tab_panel">
      <p>ルート</p>
      <div class="map-container">
        <div id="map" class="map-canvas"></div>
        <div class="map-route">
        <ul id="route-list" class="list-group"></ul>
      </div>
      <div class="map-search">
       <%= button_tag "ルート検索", id: "btn-search", class: "btn btn-primary", onclick: "search()" %>
      </div>
      

    </div>
		
		
  </div>



  <style>
  .tab_wrap{width:500px; margin:80px auto;}
  .tab_area{font-size:0; margin:0 10px;}
  .tab_area label{width:150px; margin:0 5px; display:inline-block; padding:12px 0; color:#999; background:#ddd; text-align:center; font-size:13px; cursor:pointer; transition:ease 0.2s opacity;}
  .tab_area label:hover{opacity:0.5;}
  .panel_area{background:#fff;}
  .tab_panel{width:100%; padding:80px 0; display:none;}
  .tab_panel p{font-size:14px; letter-spacing:1px; text-align:center;}
  
  .tab_area label.active{background:#fff; color:#000;}
  .tab_panel.active{display:block;}
  </style>
</div>


<script type="text/javascript">
    handler = Gmaps.build('Google');
    handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
      markers = handler.addMarkers(<%= raw @hash.to_json %>);
      handler.bounds.extendWith(markers);
      handler.fitMapToBounds();
      handler.getMap().setCenter(new google.maps.LatLng(35.679899, 139.762507));
      handler.getMap().setZoom(12);
      handler.getMap().setOptions({ draggableCursor: "default" });
      directionsDisplay.setMap(handler.getMap());
    });
</script>


